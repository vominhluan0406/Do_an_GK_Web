function addScript(e){window.SCRIPTS||(window.SCRIPTS=[]),window.SCRIPTS.push(e)}function Storage(e){var i=this,r="-expire",n=e,s=window.localStorage;"session"==n&&(s=window.sessionStorage),this.insert=function(n,t,o){if(!i.isSupported())return debug("storage --> not support"),!1;var e=(new Date).getTime();try{return debug("storage --> insert key "+n),s.setItem(n,t),o?(debug("storage --> key '"+n+"' expiration = "+(e+1e3*o)),s.setItem(n+r,e+1e3*o)):s.removeItem(n+r),!0}catch(e){return i.clear(),i.insert(n,t,o)}},this.load=function(e){if(i.isSupported()){var n=s.getItem(e+r);return n&&(new Date).getTime()>parseInt(n)?(s.removeItem(e),s.removeItem(e+r),null):s.getItem(e)}return warn("Storage --> browser not support"),!1},this.clear=function(e){e?s.removeItem(e):s.clear()},this.lastUpdate=function(){return!!i.isSupported()&&s.getItem("lastupdate")},this.isSupported=function(){try{return"session"==n?"sessionStorage"in window&&null!==window.sessionStorage:"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}}function zSetCookie(e,n,t){t&&t.expires<0?info("Delete cookie: "+e):info("Set cookie "+e+" = "+n+" /expires = "+(t?t.expires:""));var o=e+"="+escape(n)+";";t&&t.expires&&(t.expires instanceof Date?isNaN(t.expires.getTime())&&(t.expires=new Date):t.expires=new Date((new Date).getTime()+1e3*parseInt(t.expires)*60*60*24),o+="expires="+t.expires.toGMTString()+";"),t&&t.path?o+="path="+t.path+";":o+="path=/;",t&&t.domain&&(o+="domain="+t.domain+";"),document.cookie=o}function zGetCookie(e){for(var n=e+"=",t=document.cookie.split(";"),o=0;o<t.length;o++){for(var i=t[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(n))return unescape(i.substring(n.length,i.length))}return null}function zDeleteCookie(e,n,t){zGetCookie(e)&&zSetCookie(e,"",{expires:-1,path:n,domain:t})}function getRandom(e,n){return Math.floor(Math.random()*(n-e+1))+e}function getScreenWidth(){return screen.width}function switchMobile(e){"#wap"!=window.location.hash&&(null!=e&&!0!==e||alert("Bạn sẽ được chuyển sang phiên bản di động của Zing.vn"),DBLOCAL.clear(),zDeleteCookie("znews_control"),zDeleteCookie("znews_mobile","/series"),zSetCookie("znews_mobile",1,{expires:CONFIG.duration}),debug("Device --> switch to mobile, cookie = 1"),history.pushState?history.pushState(null,null,"#wap"):location.hash="#wap",window.location.reload(!0))}function checkMobileDevice(){return isFBInApp||isZaloInApp?(info("INAPP BROWSER DETECTED (FB or ZALO)"),!0):((e=null==zGetCookie("znews_mobile")&&(!(600<DEVICE.screen_width)&&(!!(/iphone/i.test(useragent)||/android/i.test(useragent)&&/mobile/i.test(useragent))||DEVICE.screen_width<=600)))&&info("MOBILE DEVICE DETECTED"),e);var e}var log=window.log||function(){},debug=window.debug||function(){},info=window.info||function(){},warn=window.warn||function(){},error=window.error||function(){},DBLOCAL=new Storage("local"),DBSESS=new Storage("session"),useragent=navigator.userAgent.toLowerCase(),isFBInApp=-1<useragent.indexOf("FBAN")||-1<useragent.indexOf("FBAV"),isZaloInApp=zGetCookie("zoanid")||-1<useragent.indexOf("Zalo"),isInApp=0<=window.location.hash.search("app")||0<=window.location.search.search("app"),isTestMode=window.location.href.match(/https*:\/\/beta\.|\?mode=test/i),DEVICE={platform:"unknown",name:"unknown",type:"unknown",screen:"unknown",browser:"unknown",screen_width:screen.width,screen_height:screen.height};DEVICE.screen_width&&1200<DEVICE.screen_width?DEVICE.screen="wide":DEVICE.screen="standard";var userAgent=navigator.userAgent.toLowerCase();-1<userAgent.indexOf("ipad")?(DEVICE.platform="ios",DEVICE.name="ipad",DEVICE.type="tablet"):-1<userAgent.indexOf("iphone")?(DEVICE.platform="ios",DEVICE.name="iphone",DEVICE.type="smartphone"):-1<userAgent.indexOf("android")?(DEVICE.platform="android",DEVICE.type=-1<userAgent.indexOf("mobile")?"smartphone":"tablet"):-1<userAgent.indexOf("windows phone")?(DEVICE.platform="windows",DEVICE.type="smartphone"):DEVICE.type="desktop",-1<userAgent.indexOf("chrome")?DEVICE.browser="chrome":-1<userAgent.indexOf("firefox")?DEVICE.browser="firefox":-1<userAgent.indexOf("msie")?DEVICE.browser="ie":-1<userAgent.indexOf("safari")&&userAgent.indexOf("chrome")<0&&(DEVICE.browser="safari"),info("DEVICE SETTING",DEVICE);
//# sourceMappingURL=utils-dist.js.map